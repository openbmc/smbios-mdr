{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "844fb9e0_ddaed08c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000416
      },
      "writtenOn": "2025-02-20T13:12:54Z",
      "side": 1,
      "message": "Thanks for the comments. Please review and approve this PR if no further comments.",
      "revId": "e0dba27fc75e4586051fbe5fb2b7a7d36cd3788b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b23fb26a_16668f44",
        "filename": "src/mdrv2.cpp",
        "patchSetId": 2
      },
      "lineNbr": 629,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2025-02-19T20:24:22Z",
      "side": 1,
      "message": "I am not clear on the difference between diretoryEntries and smbiosDir.dirEntries. Can you please explain and provide the background info.\nWhen is smbiosDir.dirEntries get set/initialized? \nShould directoryEntries be updated whenever smbios.dirEntries change?",
      "revId": "e0dba27fc75e4586051fbe5fb2b7a7d36cd3788b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4178f31b_106607c5",
        "filename": "src/mdrv2.cpp",
        "patchSetId": 2
      },
      "lineNbr": 629,
      "author": {
        "id": 1000416
      },
      "writtenOn": "2025-02-20T13:12:54Z",
      "side": 1,
      "message": "Thanks for the comments. Below is explanation in detailed.\nQns: I am not clear on the difference between diretoryEntries and smbiosDir.dirEntries. Can you please explain and provide the background info.\nAns: diretoryEntries is a dbus property and smbiosDir.dirEntries is a MDRV2 class property.\nroot@bmc-mac0007e93451a2:~# busctl introspect xyz.openbmc_project.Smbios.MDR_V2 /xyz/openbmc_project/Smbios/MDR_V2\nNAME                                TYPE      SIGNATURE RESULT/VALUE FLAGS\nxyz.openbmc_project.Smbios.MDR_V2   interface -         -            -\n.AgentSynchronizeData               method    -         b            -\n.FindIdIndex                        method    ay        i            -\n.GetDataInformation                 method    y         ay           -\n.GetDataOffer                       method    -         ay           -\n.GetDirectoryInformation            method    y         ay           -\n.SendDataInformation                method    yyuuu     b            -\n.SendDirectoryInformation           method    yyyyay    b            -\n.SynchronizeDirectoryCommonData     method    yu        au           -\n.DirectoryEntries                   property  y         0            emits-change writable\n\n\nQns: When is smbiosDir.dirEntries get set/initialized?\nAns: It is initialized during the service start time(when the MDRV2 shared pointer created)\nQns: Should directoryEntries be updated whenever smbios.dirEntries change?\nAns: smbiosDir.dirEntries value is 1 and does not change and initialized during the MDRV2 object creation, It does not change. directoryEntries value does not change after smbios2 file generated.",
      "parentUuid": "b23fb26a_16668f44",
      "revId": "e0dba27fc75e4586051fbe5fb2b7a7d36cd3788b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ffe1eebe_908726e2",
        "filename": "src/mdrv2.cpp",
        "patchSetId": 2
      },
      "lineNbr": 629,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2025-02-20T21:01:29Z",
      "side": 1,
      "message": "Thanks for detailed information. I am still trying to understand what the issue is and evaluating whether the change is the right way to fix.\n\nWhen smbios file exists, line 388 and 391 would assign the dbus Property directoryEntries to one since smbios.dirEntries is always one.\n\nMy follow up questions is why MDRV2 object\u0027s smbiosDir.dirEntries is hard coded to 1 regardless of existance of smbios file and why dbus property directoryEntries is set to 0 when there is no smbios file.",
      "parentUuid": "4178f31b_106607c5",
      "revId": "e0dba27fc75e4586051fbe5fb2b7a7d36cd3788b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "05ec3949_5418cc69",
        "filename": "src/mdrv2.cpp",
        "patchSetId": 2
      },
      "lineNbr": 629,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2025-02-27T19:16:14Z",
      "side": 1,
      "message": "I think this maybe a better place to update directoryEntries when agentSynchronizeData is called.\n\nhttps://github.com/openbmc/smbios-mdr/blob/master/src/mdrv2.cpp#L828",
      "parentUuid": "ffe1eebe_908726e2",
      "revId": "e0dba27fc75e4586051fbe5fb2b7a7d36cd3788b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}