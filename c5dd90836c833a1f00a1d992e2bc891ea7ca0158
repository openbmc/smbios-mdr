{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9c8b7c45_c319d4a2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2022-03-03T19:04:18Z",
      "side": 1,
      "message": "Where do you see this?\nhttps://github.com/openbmc/x86-power-control/blob/master/src/power_control.cpp#L3272\n// OS State Interface\n    osIface \u003d osServer.add_interface(\n        \"/xyz/openbmc_project/state/os\",\n        \"xyz.openbmc_project.State.OperatingSystem.Status\");",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 26,
        "endChar": 0
      },
      "revId": "c5dd90836c833a1f00a1d992e2bc891ea7ca0158",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2dcf576b_94897527",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2022-03-07T08:13:33Z",
      "side": 1,
      "message": "Hi ZhiKui,\n\nI checked power_control.cpp and found why I saw this path is\n\"/xyz/openbmc_project/state/host0\". Due to we changed it for fixing automation test. The keywoard \"Is OS Booted\" in state_manager.robot that will check \"OperatingSystemState\" property from \"/xyz/openbmc_project/state/host0\" through \"Get Host State Attribute\" keywoard.\nHowever, x86-power-control is using \"/xyz/openbmc_project/state/os\" this object path. This is not match automation test thus case some test cases got failed.\nThus, we modified the object path to \"/xyz/openbmc_project/state/host0\" then pass test cases.\n\nIf we need to keep original x86-power-control design,\nShould we modify automation test to fit this design?\nIf there is any suggestion, please let me know. Thanks in advance.\n\nopenbmc-test-automation/data/variables.py:\nHOST_STATE_URI \u003d /xyz/openbmc_project/state/host0/\n\nopenbmc-test-automation/lib/state_manager.robot:\nIs OS Booted\n    [Documentation]  Check OS status.\n\n    # Example:\n    # \"/xyz/openbmc_project/state/host0\": {\n    #    \"AttemptsLeft\": 0,\n    #    \"BootProgress\": \"xyz.openbmc_project.State.Boot.Progress.ProgressStages.OSStart\",\n    #    \"CurrentHostState\": \"xyz.openbmc_project.State.Host.HostState.Running\",\n    #    \"OperatingSystemState\": \"xyz.openbmc_project.State.OperatingSystem.Status.OSStatus.BootComplete\",\n    #    \"RequestedHostTransition\": \"xyz.openbmc_project.State.Host.Transition.On\"\n    # }\n\n    ${boot_stage}\u003d  Get Host State Attribute  BootProgress\n    Should Be Equal  ${OS_BOOT_START}  ${boot_stage}\n\n    ${os_state}\u003d  Get Host State Attribute  OperatingSystemState\n    Should Be Equal  ${OS_BOOT_COMPLETE}  ${os_state}\n\nGet Host State Attribute\n    [Documentation]  Return the state of the host as a string.\n    [Arguments]  ${host_attribute}  ${quiet}\u003d${QUIET}\n\n    # Description of argument(s):\n    # host_attribute   Host attribute name.\n    # quiet            Suppress REST output logging to console.\n\n    ${state}\u003d\n    ...  Read Attribute  ${HOST_STATE_URI}  ${host_attribute}  quiet\u003d${quiet}\n    [Return]  ${state}",
      "parentUuid": "9c8b7c45_c319d4a2",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 26,
        "endChar": 0
      },
      "revId": "c5dd90836c833a1f00a1d992e2bc891ea7ca0158",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "058aed78_652ee5c3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2022-03-15T23:45:50Z",
      "side": 1,
      "message": "Automation test should be adjusted to match the design in this case.",
      "parentUuid": "2dcf576b_94897527",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 26,
        "endChar": 0
      },
      "revId": "c5dd90836c833a1f00a1d992e2bc891ea7ca0158",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "896ed12d_118d47ad",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2022-03-16T07:12:38Z",
      "side": 1,
      "message": "Hi ZhiKui,\nThank your review and suggestion. I will modify automation test case to match current openbmc design for this case. Thank you.\n\nSincerely,\nTim",
      "parentUuid": "058aed78_652ee5c3",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 26,
        "endChar": 0
      },
      "revId": "c5dd90836c833a1f00a1d992e2bc891ea7ca0158",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "815b54cc_5d7fd9d9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2022-03-03T01:59:44Z",
      "side": 1,
      "message": "Hello Kasun Athukorala,\nCould you please help us to check this commit? Thanks.\n\nSincerely,\nTim",
      "revId": "c5dd90836c833a1f00a1d992e2bc891ea7ca0158",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "569d2ff0_2b82d6ea",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2022-03-07T08:13:33Z",
      "side": 1,
      "message": "Hi Zhikui and Kasun,\nThank your review and feedback. I have explained it as below.\nIf there is any questions, please don\u0027t hesitate to tell me. Thank you.\n\nSincerely,\nTim",
      "revId": "c5dd90836c833a1f00a1d992e2bc891ea7ca0158",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ac76d15f_ca32b1b7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2022-03-15T23:45:50Z",
      "side": 1,
      "message": "Sorry - just notice this was not sent",
      "revId": "c5dd90836c833a1f00a1d992e2bc891ea7ca0158",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fb06ae4b_9f848ba4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2022-03-16T07:12:38Z",
      "side": 1,
      "message": "According Zhikui\u0027s suggestion, we need to modify automation test case to match current design.",
      "revId": "c5dd90836c833a1f00a1d992e2bc891ea7ca0158",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d442c0d0_6fb4a2d0",
        "filename": "src/cpuinfo_utils.cpp",
        "patchSetId": 1
      },
      "lineNbr": 284,
      "author": {
        "id": 1001138
      },
      "writtenOn": "2022-03-03T20:10:26Z",
      "side": 1,
      "message": "Have you tested this change?\n\n/xyz/openbmc_project/state/host0 doesn\u0027t contain a xyz.openbmc_project.State.OperatingSystem.Status Interface. It has the xyz.openbmc_project.State.Host interface.",
      "range": {
        "startLine": 284,
        "startChar": 25,
        "endLine": 284,
        "endChar": 57
      },
      "revId": "c5dd90836c833a1f00a1d992e2bc891ea7ca0158",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fb37767d_4dbd0162",
        "filename": "src/cpuinfo_utils.cpp",
        "patchSetId": 1
      },
      "lineNbr": 284,
      "author": {
        "id": 1000294
      },
      "writtenOn": "2022-03-07T08:13:33Z",
      "side": 1,
      "message": "Hi Kasun,\nYes, we have tested it. According above reason, due to we modified x86-power-control object path to \"/xyz/openbmc_project/state/host0\".\nThus, we can get \"OperatingSystemState\" property.\n\nBelow is tested command:\nbusctl introspect xyz.openbmc_project.State.OperatingSystem0 /xyz/openbmc_project/state/host0\nxyz.openbmc_project.State.OperatingSystem.Status interface -\n.OperatingSystemState  property  s \n\"xyz.openbmc_project.State.OperatingS... emits-change",
      "parentUuid": "d442c0d0_6fb4a2d0",
      "range": {
        "startLine": 284,
        "startChar": 25,
        "endLine": 284,
        "endChar": 57
      },
      "revId": "c5dd90836c833a1f00a1d992e2bc891ea7ca0158",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}