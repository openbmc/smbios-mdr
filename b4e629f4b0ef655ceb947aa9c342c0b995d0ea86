{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f4f22787_906bd6a0",
        "filename": "src/mdrv2.cpp",
        "patchSetId": 1
      },
      "lineNbr": 421,
      "author": {
        "id": 1000388
      },
      "writtenOn": "2023-03-15T03:01:53Z",
      "side": 1,
      "message": "I think you mentioned in our offline discussion - but you\u0027ve tried adding the key \"interface\" and use \"systemInterface\" in the matcher itself?\n\nhttps://dbus.freedesktop.org/doc/dbus-specification.html (in section \"Match Rules\")",
      "range": {
        "startLine": 421,
        "startChar": 65,
        "endLine": 421,
        "endChar": 66
      },
      "revId": "b4e629f4b0ef655ceb947aa9c342c0b995d0ea86",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ed2d63e7_ab28a58a",
        "filename": "src/mdrv2.cpp",
        "patchSetId": 1
      },
      "lineNbr": 421,
      "author": {
        "id": 1001369
      },
      "writtenOn": "2023-03-15T19:56:55Z",
      "side": 1,
      "message": "I did and tried several different variations of rules.. The interface rule is to match the messages sent over or to a particular interface. It does not match the interface in the message body..\n\nI looked at all the signals/method calls that are made when Entity manager starts up.. None of those have messages that go to interface\u003dxyz.openbmc_project.Inventory.Item.System. This is expected I believe because this interface has no members under it (ref #1), so we won\u0027t see any message sent to it.\n\nIf we want to avoid the triggering of the callbacks repeatedly, the only way seems to be to hardcode the motherboardPath in the rule, but this solution won\u0027t be upstream-able.\n\nSo the only way is to wait for the InterfacesAdded signal and look at the message body to find if our System interface is being updated. This is similar to what is already being done as shown in ref #2.\n\nJust an FYI, that the matcher will be set only when we hit the error scenarios (motherboard Path is not found on first attempt)\n\nref:\n1) https://github1s.com/openbmc/phosphor-dbus-interfaces/blob/HEAD/yaml/xyz/openbmc_project/Inventory/Item/System.interface.yaml 2) https://github1s.com/openbmc/smbios-mdr/blob/master/src/cpuinfo_utils.cpp#L236",
      "parentUuid": "f4f22787_906bd6a0",
      "range": {
        "startLine": 421,
        "startChar": 65,
        "endLine": 421,
        "endChar": 66
      },
      "revId": "b4e629f4b0ef655ceb947aa9c342c0b995d0ea86",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d22f04b8_1f95eaa0",
        "filename": "src/mdrv2.cpp",
        "patchSetId": 1
      },
      "lineNbr": 421,
      "author": {
        "id": 1000559
      },
      "writtenOn": "2023-03-19T16:25:16Z",
      "side": 1,
      "message": "@Brandon are you OK with the rational here?",
      "parentUuid": "ed2d63e7_ab28a58a",
      "range": {
        "startLine": 421,
        "startChar": 65,
        "endLine": 421,
        "endChar": 66
      },
      "revId": "b4e629f4b0ef655ceb947aa9c342c0b995d0ea86",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e43ade37_921f11f4",
        "filename": "src/mdrv2.cpp",
        "patchSetId": 1
      },
      "lineNbr": 421,
      "author": {
        "id": 1000388
      },
      "writtenOn": "2023-03-20T16:14:01Z",
      "side": 1,
      "message": "Yes, thanks for checking Zhikui - yes this makes sense. Let me close this comment.",
      "parentUuid": "d22f04b8_1f95eaa0",
      "range": {
        "startLine": 421,
        "startChar": 65,
        "endLine": 421,
        "endChar": 66
      },
      "revId": "b4e629f4b0ef655ceb947aa9c342c0b995d0ea86",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}